//https://skalman.github.io/UglifyJS-online/

//js.cookie.js
!function (e) { var n; if ("function" == typeof define && define.amd) define(["jquery"], e); else if ("object" == typeof exports) { try { n = require("jquery") } catch (e) { } module.exports = e(n) } else { var o = window.Cookies, r = window.Cookies = e(window.jQuery); r.noConflict = function () { return window.Cookies = o, r } } }(function (e) { var n = /\+/g; function o(e) { return c.raw ? e : encodeURIComponent(e) } function r(e, o) { var r = c.raw ? e : function (e) { 0 === e.indexOf('"') && (e = e.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\")); try { return e = decodeURIComponent(e.replace(n, " ")), c.json ? JSON.parse(e) : e } catch (e) { } }(e); return i(o) ? o(r) : r } function t() { for (var e, n, o = 0, r = {}; o < arguments.length; o++)for (e in n = arguments[o]) r[e] = n[e]; return r } function i(e) { return "[object Function]" === Object.prototype.toString.call(e) } var c = function (e, n, u) { if (arguments.length > 1 && !i(n)) { if ("number" == typeof (u = t(c.defaults, u)).expires) { var f = u.expires, s = u.expires = new Date; s.setMilliseconds(s.getMilliseconds() + 864e5 * f) } return document.cookie = [o(e), "=", function (e) { return o(c.json ? JSON.stringify(e) : String(e)) }(n), u.expires ? "; expires=" + u.expires.toUTCString() : "", u.path ? "; path=" + u.path : "", u.domain ? "; domain=" + u.domain : "", u.secure ? "; secure" : ""].join("") } for (var a, d = e ? void 0 : {}, p = document.cookie ? document.cookie.split("; ") : [], l = 0, m = p.length; l < m; l++) { var v = p[l].split("="), g = (a = v.shift(), c.raw ? a : decodeURIComponent(a)), w = v.join("="); if (e === g) { d = r(w, n); break } e || void 0 === (w = r(w)) || (d[g] = w) } return d }; return c.get = c.set = c, c.defaults = {}, c.remove = function (e, n) { return c(e, "", t(n, { expires: -1 })), !c(e) }, e && (e.cookie = c, e.removeCookie = c.remove), c });

//emailauthor.js
$(function () { $("body").hasClass("swe") ? jsKeyboard.init("virtualKeyboard", "swe") : jsKeyboard.init("virtualKeyboard", "default"), $(".emailauthorbutton").on("mousedown", function () { $(".kbcontainersendposterrequest").show(); var e = $(".emailname").focus(); jsKeyboard.currentElement = e, jsKeyboard.currentElementCursorPosition = 0 }), $(".closekeyboardlink").click(function (e) { return $(".kbcontainersendposterrequest").hide(), $(".emailname").val(""), $(".emailsender").val(""), $(".emailbody").val(""), e.stopPropagation(), !1 }), $(".sendemaillink").on("mousedown", function (e) { $("#loading h3").html("SENDING MESSAGE"), $(".loading").show(), e.stopImmediatePropagation(); var a = JSON.stringify({ name: $(".emailname").val(), email: $(".emailsender").val(), message: $(".emailbody").val(), shortname: $("#PageShortName").val() }); $.ajax({ type: "POST", url: "/Service.asmx/SendMessage", contentType: "application/json; charset=utf-8", dataType: "json", data: a, success: function (e) { e.d ? ($("#loading h3").html("MESSAGE SENT"), $(".emailname").val(""), $(".emailsender").val(""), $(".emailbody").val(""), setTimeout(function () { $(".loading").hide(), $("#loading h3").html("LOADING"), $(".kbcontainer").hide() }, 1500)) : (alert("Unknown Error."), $(".loading").hide(), $("#loading h3").html("LOADING")) }, error: function (e, a, o) { alert("Unknown Error: " + a + ";" + o), $(".loading").hide(), $("#loading h3").html("LOADING") } }) }), $("body").hasClass("swe") ? jsKeyboard.init("virtualKeyboardshareposter", "swe") : jsKeyboard.init("virtualKeyboardshareposter", "default"), $(".shareemailauthorbutton").on("mousedown", function () { $(".kbcontainershareposter").show(); var e = $(".shareemailname").focus(); jsKeyboard.currentElement = e, jsKeyboard.currentElementCursorPosition = 0 }), $(".shareclosekeyboardlink").click(function (e) { return $(".kbcontainershareposter, .kbcontainershareposter .alert").hide(), $(".shareemailname").val(""), e.stopPropagation(), !1 }), $("#getiPosterLinkForm").submit(function (e) { if ($("#getiPosterLinkForm").validator("validate").has(".has-error").length > 0) return console.log("form not valid "), !1; if (a = $(".shareemailname").val(), !/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(a)) return $("#alert-not-valid-email").show(), $("#alert-something-went-wrong").hide(), $("#alert-success-message").hide(), !1; var a; e.preventDefault(), e.stopImmediatePropagation(), $("#loading h3").html("SENDING MESSAGE"), $(".loading").show(); var o = window.location.host + "/Default.aspx?s=" + $("#PageShortName").val(), n = JSON.stringify({ email: $(".shareemailname").val(), shortname: $("#PageShortName").val(), publicUrl: o }); return $.ajax({ type: "POST", url: "/Service.asmx/ShareiPosterRequest", contentType: "application/json; charset=utf-8", dataType: "json", data: n, success: function (e) { e.d ? ($("#loading h3").html("MESSAGE SENT"), $(".shareemailname").val(""), $(".loading").hide(), $("#loading h3").html("LOADING"), $("#alert-not-valid-email").hide(), $("#alert-something-went-wrong").hide(), $("#alert-success-message").show()) : ($("#alert-not-valid-email").hide(), $("#alert-something-went-wrong").show(), $("#alert-success-message").hide(), $(".loading").hide(), $("#loading h3").html("LOADING")) }, error: function (e, a, o) { $("#alert-not-valid-email").hide(), $("#alert-something-went-wrong").show(), $("#alert-success-message").hide(), $(".loading").hide(), $("#loading h3").html("LOADING") } }), !1 }) });

//jquery.main.min.js
var slideShow; function initAll() { "undefined" == typeof printPDF && jQuery(".scrollable-area:not(.noscroll)").each(function () { var e = jQuery(this), t = e.closest(".block"), i = t.find("h2").outerHeight(!0), n = e.find(".text"), s = t.find(".close").show(), o = s.outerHeight(!0); s.hide(); var r = t.find(".more").show(); r.children("span")[0].innerText = "OPEN"; var a = r.outerHeight(!0); r.removeClass('less'); r.children("span")[0].title = ""; if (e.css({ height: t.height() - i - a }), n.height() > e.height() + a) var l = a; else l = o, r.hide(); e.css({ height: t.height() - i - l }) }) } function initCustomScroll() { "undefined" == typeof printPDF && initAll(), "undefined" == typeof printPDF && jQuery(window).bind("resize orientationchange", function () { jQuery(".scrollable-area-wrapper").css({ height: "" }), initAll(), jcf.customForms.refreshAll() }), jcf.customForms.replaceAll() } function initSlideShow() { $("div.logo-wrapper").fadeGallery({ slides: "div.logo img", btnPrev: "a.btn-prev2", btnNext: "a.btn-next2", btnPlay: ".btn-play2", btnPlayPause: ".btn-play-pause2", pagerLinks: ".pagination2 li", event: "click", autoRotation: !0, switchTime: 5e3, animSpeed: 500 }), $("div.slideshow").fadeGallery({ slides: "div.slide img", btnPrev: "a.btn-prev1", btnNext: "a.btn-next1", btnPlay: ".btn-play1", btnPlayPause: ".btn-play-pause1", pagerLinks: ".pagination1 li", event: "click", autoRotation: !0, switchTime: 5e3, animSpeed: 500 }), $("#box2").fadeGallery({ slides: "div.imageslider img", btnPrev: "a.btn-prev", btnNext: "a.btn-next", btnPlay: "a.btn-play", btnPlayPause: "a.btn-play-pause", pagerLinks: ".pagination li", event: "click", autoRotation: !0, switchTime: 5e3, animSpeed: 500, useSwipe: !0 }) } function initLightbox() { jQuery('a.lightbox, a[rel*="lightbox"]').each(function () { var e = jQuery(this); e.fancybox({ padding: 0, cyclic: !1, overlayShow: !0, overlayOpacity: .4, overlayColor: "#000000", titlePosition: "inside", enableKeyboardNav: 0, onComplete: function (t) { 0 === e.attr("href").indexOf("#") && jQuery("#fancybox-content").find("a.close").unbind("click.fb").bind("click.fb", function (e) { jQuery.fancybox.close(), e.preventDefault() }) } }) }) } jQuery(function () { "undefined" == typeof printPDF ? (initSlideShow(), initLightbox()) : $(".imageslider img").css("opacity", "1") }), jQuery(window).load(function () { "undefined" == typeof printPDF && initCustomScroll() }), jQuery(function () { var e = function () { try { return "ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch } catch (e) { return !1 } }(); if (!(jQuery.browser.msie && jQuery.browser.version < 8 || e)) { var t = document.getElementsByTagName("head")[0], i = document.createElement("style"), n = document.createTextNode("#fancybox-overlay{position:fixed;top:0;left:0;}"); i.type = "text/css", i.styleSheet ? i.styleSheet.cssText = n.nodeValue : i.appendChild(n), t.appendChild(i) } }), function (e) { function t(t) { this.options = e.extend({ slides: "ul.slideset > li", activeClass: "active", disabledClass: "disabled", btnPrev: "a.btn-prev", btnNext: "a.btn-next", generatePagination: !1, pagerList: "<ul>", pagerListItem: '<li><a href="#"></a></li>', pagerListItemText: "a", pagerLinks: ".pagination li", currentNumber: "span.current-num", totalNumber: "span.total-num", btnPlay: ".btn-play", btnPause: ".btn-pause", btnPlayPause: ".btn-play-pause", galleryReadyClass: "gallery-js-ready", autorotationActiveClass: "autorotation-active", autorotationDisabledClass: "autorotation-disabled", autorotationStopAfterClick: !1, circularRotation: !0, switchSimultaneously: !0, disableWhileAnimating: !1, disableFadeIE: !1, autoRotation: !1, pauseOnHover: !1, autoHeight: !1, useSwipe: !1, swipeThreshold: 15, switchTime: 5e3, animSpeed: 600, event: "click" }, t), this.init() } t.prototype = { init: function () { this.options.holder && (this.findElements(), this.attachEvents(), this.refreshState(!0), this.autoRotate(), this.makeCallback("onInit", this)) }, findElements: function () { if (this.gallery = e(this.options.holder).addClass(this.options.galleryReadyClass), this.slides = this.gallery.find(this.options.slides), this.slidesHolder = this.slides.eq(0).parent(), this.stepsCount = this.slides.length, this.btnPrev = e("body").find(this.options.btnPrev), this.btnNext = e("body").find(this.options.btnNext), this.currentIndex = 0, this.options.disableFadeIE && !e.support.opacity && (this.options.animSpeed = 0), "string" == typeof this.options.generatePagination) { this.pagerHolder = this.gallery.find(this.options.generatePagination).empty(), this.pagerList = e(this.options.pagerList).appendTo(this.pagerHolder); for (var t = 0; t < this.stepsCount; t++)e(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(t + 1); this.pagerLinks = this.pagerList.children() } else this.pagerLinks = this.gallery.find(this.options.pagerLinks); var i = this.slides.filter("." + this.options.activeClass); i.length && (this.currentIndex = this.slides.index(i)), this.prevIndex = this.currentIndex, this.btnPlay = e("body").find(this.options.btnPlay), this.btnPause = this.gallery.find(this.options.btnPause), this.btnPlayPause = e("body").find(this.options.btnPlayPause), this.curNum = this.gallery.find(this.options.currentNumber), this.allNum = this.gallery.find(this.options.totalNumber), this.slides.css({ display: "block", opacity: 0 }).eq(this.currentIndex).css({ opacity: "" }) }, attachEvents: function () { var t = this; this.resizeHandler = function () { t.onWindowResize() }, e(window).bind("load resize orientationchange", this.resizeHandler), this.btnPrev.length && (this.btnPrevHandler = function (e) { e.preventDefault(), t.prevSlide(), t.options.autorotationStopAfterClick && t.stopRotation() }, this.btnPrev.bind(this.options.event, this.btnPrevHandler)), this.btnNext.length && (this.btnNextHandler = function (e) { e.preventDefault(), t.nextSlide(), t.options.autorotationStopAfterClick && t.stopRotation() }, this.btnNext.bind(this.options.event, this.btnNextHandler)), this.pagerLinks.length && (this.pagerLinksHandler = function (e) { e.preventDefault(), t.numSlide(t.pagerLinks.index(e.currentTarget)), t.options.autorotationStopAfterClick && t.stopRotation() }, this.pagerLinks.bind(t.options.event, this.pagerLinksHandler)), this.btnPlay.length && (this.btnPlayHandler = function (e) { e.preventDefault(), t.startRotation() }, this.btnPlay.bind(this.options.event, this.btnPlayHandler)), this.btnPause.length && (this.btnPauseHandler = function (e) { e.preventDefault(), t.stopRotation() }, this.btnPause.bind(this.options.event, this.btnPauseHandler)), this.btnPlayPause.length && (this.btnPlayPauseHandler = function (e) { e.preventDefault(), t.gallery.hasClass(t.options.autorotationActiveClass) ? t.stopRotation() : t.startRotation() }, this.btnPlayPause.bind(this.options.event, this.btnPlayPauseHandler)), this.options.useSwipe && e.fn.hammer && Hammer.HAS_TOUCHEVENTS && this.gallery.hammer({ drag_block_horizontal: !0, drag_min_distance: 1 }).on("release dragleft dragright swipeleft swiperight", function (e) { switch (e.type) { case "dragright": case "dragleft": e.gesture.preventDefault(); break; case "swipeleft": t.nextSlide(), e.gesture.stopDetect(); break; case "swiperight": t.prevSlide(), e.gesture.stopDetect(); break; case "release": Math.abs(e.gesture[t.options.vertical ? "deltaY" : "deltaX"]) > t.options.swipeThreshold && ("right" == e.gesture.direction ? t.prevSlide() : "left" == e.gesture.direction && t.nextSlide()) } }), this.options.pauseOnHover && (this.hoverHandler = function () { t.options.autoRotation && (t.galleryHover = !0, t.pauseRotation()) }, this.leaveHandler = function () { t.options.autoRotation && (t.galleryHover = !1, t.resumeRotation()) }, this.gallery.bind({ mouseenter: this.hoverHandler, mouseleave: this.leaveHandler })) }, onWindowResize: function () { this.options.autoHeight && this.slidesHolder.css({ height: this.slides.eq(this.currentIndex).outerHeight(!0) }) }, prevSlide: function () { this.options.disableWhileAnimating && this.galleryAnimating || (this.prevIndex = this.currentIndex, this.currentIndex > 0 ? (this.currentIndex--, this.switchSlide()) : this.options.circularRotation && (this.currentIndex = this.stepsCount - 1, this.switchSlide())) }, nextSlide: function (e) { this.options.disableWhileAnimating && this.galleryAnimating || (this.prevIndex = this.currentIndex, this.currentIndex < this.stepsCount - 1 ? (this.currentIndex++, this.switchSlide()) : (this.options.circularRotation || !0 === e) && (this.currentIndex = 0, this.switchSlide())) }, numSlide: function (e) { this.currentIndex != e && (this.prevIndex = this.currentIndex, this.currentIndex = e, this.switchSlide()) }, switchSlide: function () { var e = this; this.slides.length > 1 && (this.galleryAnimating = !0, this.options.animSpeed ? this.slides.eq(this.prevIndex).stop().animate({ opacity: 0 }, { duration: this.options.animSpeed }) : this.slides.eq(this.prevIndex).css({ opacity: 0 }), this.switchNext = function () { e.options.animSpeed ? e.slides.eq(e.currentIndex).stop().animate({ opacity: 1 }, { duration: e.options.animSpeed }) : e.slides.eq(e.currentIndex).css({ opacity: "" }), setTimeout(function () { e.slides.eq(e.currentIndex).css({ opacity: "" }), e.galleryAnimating = !1, e.autoRotate(), e.makeCallback("onChange", e) }, e.options.animSpeed) }, this.options.switchSimultaneously ? e.switchNext() : (clearTimeout(this.switchTimer), this.switchTimer = setTimeout(function () { e.switchNext() }, this.options.animSpeed)), this.refreshState(), this.makeCallback("onBeforeChange", this)) }, refreshState: function (e) { this.slides.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass), this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass), this.curNum.html(this.currentIndex + 1), this.allNum.html(this.stepsCount), this.options.autoHeight && (e ? this.slidesHolder.css({ height: this.slides.eq(this.currentIndex).outerHeight(!0) }) : this.slidesHolder.stop().animate({ height: this.slides.eq(this.currentIndex).outerHeight(!0) }, { duration: this.options.animSpeed })), this.options.circularRotation || (this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass), 0 === this.currentIndex && this.btnPrev.addClass(this.options.disabledClass), this.currentIndex === this.stepsCount - 1 && this.btnNext.addClass(this.options.disabledClass)) }, startRotation: function () { this.options.autoRotation = !0, this.galleryHover = !1, this.autoRotationStopped = !1, this.resumeRotation() }, stopRotation: function () { this.galleryHover = !0, this.autoRotationStopped = !0, this.pauseRotation() }, pauseRotation: function () { this.gallery.addClass(this.options.autorotationDisabledClass), this.gallery.removeClass(this.options.autorotationActiveClass), clearTimeout(this.timer) }, resumeRotation: function () { this.autoRotationStopped || (this.gallery.addClass(this.options.autorotationActiveClass), this.gallery.removeClass(this.options.autorotationDisabledClass), this.autoRotate()) }, autoRotate: function () { var e = this; clearTimeout(this.timer), !this.options.autoRotation || this.galleryHover || this.autoRotationStopped ? this.pauseRotation() : (this.gallery.addClass(this.options.autorotationActiveClass), this.timer = setTimeout(function () { e.nextSlide(!0) }, this.options.switchTime)) }, makeCallback: function (e) { if ("function" == typeof this.options[e]) { var t = Array.prototype.slice.call(arguments); t.shift(), this.options[e].apply(this, t) } }, destroy: function () { this.btnPrev.unbind(this.options.event, this.btnPrevHandler), this.btnNext.unbind(this.options.event, this.btnNextHandler), this.pagerLinks.unbind(this.options.event, this.pagerLinksHandler), e(window).unbind("load resize orientationchange", this.resizeHandler), this.stopRotation(), this.btnPlay.unbind(this.options.event, this.btnPlayHandler), this.btnPause.unbind(this.options.event, this.btnPauseHandler), this.btnPlayPause.unbind(this.options.event, this.btnPlayPauseHandler), this.gallery.bind({ mouseenter: this.hoverHandler, mouseleave: this.leaveHandler }), this.options.useSwipe && e.fn.hammer && this.gallery.hammer().off("release dragleft dragright swipeleft swiperight"), "string" == typeof this.options.generatePagination && this.pagerHolder.empty(); var t = [this.options.galleryReadyClass, this.options.autorotationActiveClass, this.options.autorotationDisabledClass]; this.gallery.removeClass(t.join(" ")), this.slidesHolder.add(this.slides).removeAttr("style") } }, e.fn.fadeGallery = function (i) { return this.each(function () { e(this).data("FadeGallery", new t(e.extend(i, { holder: this }))) }) } }(jQuery), jcf = { modules: {}, plugins: {}, baseOptions: { unselectableClass: "jcf-unselectable", labelActiveClass: "jcf-label-active", labelDisabledClass: "jcf-label-disabled", classPrefix: "jcf-class-", hiddenClass: "jcf-hidden", focusClass: "jcf-focus", wrapperTag: "div" }, customForms: { setOptions: function (e) { for (var t in e) e.hasOwnProperty(t) && "object" == typeof e[t] && jcf.lib.extend(jcf.modules[t].prototype.defaultOptions, e[t]) }, replaceAll: function (e) { for (var t in jcf.modules) for (var i = jcf.lib.queryBySelector(jcf.modules[t].prototype.selector, e), n = 0; n < i.length; n++)i[n].jcf ? i[n].jcf.refreshState() : !jcf.lib.hasClass(i[n], "default") && jcf.modules[t].prototype.checkElement(i[n]) && new jcf.modules[t]({ replaces: i[n] }) }, refreshAll: function (e) { for (var t in jcf.modules) for (var i = jcf.lib.queryBySelector(jcf.modules[t].prototype.selector, e), n = 0; n < i.length; n++)i[n].jcf && i[n].jcf.refreshState() }, refreshElement: function (e) { e && e.jcf && e.jcf.refreshState() }, destroyAll: function () { for (var e in jcf.modules) for (var t = jcf.lib.queryBySelector(jcf.modules[e].prototype.selector), i = 0; i < t.length; i++)t[i].jcf && t[i].jcf.destroy() } }, isTouchDevice: "ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch, isWinPhoneDevice: navigator.msPointerEnabled && /MSIE 10.*Touch/.test(navigator.userAgent), setBaseModule: function (e) { for (var t in jcf.customControl = function (e) { this.options = jcf.lib.extend({}, jcf.baseOptions, this.defaultOptions, e), this.init() }, e) jcf.customControl.prototype[t] = e[t] }, addModule: function (e) { if (e.name) { for (var t in jcf.modules[e.name] = function () { jcf.modules[e.name].superclass.constructor.apply(this, arguments) }, jcf.lib.inherit(jcf.modules[e.name], jcf.customControl), e) jcf.modules[e.name].prototype[t] = e[t]; for (var i in jcf.modules[e.name].prototype.onCreateModule(), jcf.modules) jcf.modules[i] != jcf.modules[e.name] && jcf.modules[i].prototype.onModuleAdded(jcf.modules[e.name]) } }, addPlugin: function (e) { if (e && e.name) for (var t in jcf.plugins[e.name] = function () { this.init.apply(this, arguments) }, e) jcf.plugins[e.name].prototype[t] = e[t] }, init: function () { return navigator.msPointerEnabled ? (this.eventPress = "MSPointerDown", this.eventMove = "MSPointerMove", this.eventRelease = "MSPointerUp") : (this.eventPress = this.isTouchDevice ? "touchstart" : "mousedown", this.eventMove = this.isTouchDevice ? "touchmove" : "mousemove", this.eventRelease = this.isTouchDevice ? "touchend" : "mouseup"), setTimeout(function () { jcf.lib.domReady(function () { jcf.initStyles() }) }, 1), this }, initStyles: function () { var e = document.getElementsByTagName("head")[0], t = document.createElement("style"), i = document.createTextNode("." + jcf.baseOptions.unselectableClass + "{-moz-user-select:none;-webkit-tap-highlight-color:rgba(255,255,255,0);-webkit-user-select:none;user-select:none;}"); t.type = "text/css", t.styleSheet ? t.styleSheet.cssText = i.nodeValue : t.appendChild(i), e.appendChild(t) } }.init(), jcf.setBaseModule({ init: function () { this.options.replaces && (this.realElement = this.options.replaces, this.realElement.jcf = this, this.replaceObject()) }, defaultOptions: {}, checkElement: function (e) { return !0 }, replaceObject: function () { this.createWrapper(), this.attachEvents(), this.fixStyles(), this.setupWrapper() }, createWrapper: function () { this.fakeElement = jcf.lib.createElement(this.options.wrapperTag), this.labelFor = jcf.lib.getLabelFor(this.realElement), jcf.lib.disableTextSelection(this.fakeElement), jcf.lib.addClass(this.fakeElement, jcf.lib.getAllClasses(this.realElement.className, this.options.classPrefix)), jcf.lib.addClass(this.realElement, jcf.baseOptions.hiddenClass) }, attachEvents: function () { jcf.lib.event.add(this.realElement, "focus", this.onFocusHandler, this), jcf.lib.event.add(this.realElement, "blur", this.onBlurHandler, this), jcf.lib.event.add(this.fakeElement, "click", this.onFakeClick, this), jcf.lib.event.add(this.fakeElement, jcf.eventPress, this.onFakePressed, this), jcf.lib.event.add(this.fakeElement, jcf.eventRelease, this.onFakeReleased, this), this.labelFor && (this.labelFor.jcf = this, jcf.lib.event.add(this.labelFor, "click", this.onFakeClick, this), jcf.lib.event.add(this.labelFor, jcf.eventPress, this.onFakePressed, this), jcf.lib.event.add(this.labelFor, jcf.eventRelease, this.onFakeReleased, this)) }, fixStyles: function () { if (jcf.isTouchDevice) { var e = "rgba(255,255,255,0)"; this.realElement.style.webkitTapHighlightColor = e, this.fakeElement.style.webkitTapHighlightColor = e, this.labelFor && (this.labelFor.style.webkitTapHighlightColor = e) } }, setupWrapper: function () { }, refreshState: function () { }, destroy: function () { this.fakeElement && this.fakeElement.parentNode && this.fakeElement.parentNode.removeChild(this.fakeElement), jcf.lib.removeClass(this.realElement, jcf.baseOptions.hiddenClass), this.realElement.jcf = null }, onFocus: function () { jcf.lib.addClass(this.fakeElement, this.options.focusClass) }, onBlur: function (e) { jcf.lib.removeClass(this.fakeElement, this.options.focusClass) }, onFocusHandler: function () { this.focused || (this.focused = !0, jcf.isTouchDevice && (jcf.focusedInstance && jcf.focusedInstance.realElement != this.realElement && (jcf.focusedInstance.onBlur(), jcf.focusedInstance.realElement.blur()), jcf.focusedInstance = this), this.onFocus.apply(this, arguments)) }, onBlurHandler: function () { this.pressedFlag || (this.focused = !1, this.onBlur.apply(this, arguments)) }, onFakeClick: function () { jcf.isTouchDevice ? this.onFocus() : this.realElement.disabled || this.realElement.focus() }, onFakePressed: function (e) { this.pressedFlag = !0 }, onFakeReleased: function () { this.pressedFlag = !1 }, onCreateModule: function () { }, onModuleAdded: function (e) { }, onControlReady: function () { } }), jcf.lib = { bind: function (e, t) { return function () { return e.apply(t, arguments) } }, browser: function () { var e = navigator.userAgent.toLowerCase(), t = {}, i = /(webkit)[ \/]([\w.]+)/.exec(e) || /(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e) || /(msie) ([\w.]+)/.exec(e) || e.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+))?/.exec(e) || []; return t[i[1]] = !0, t.version = i[2] || "0", t.safariMac = -1 != e.indexOf("mac") && -1 != e.indexOf("safari"), t }(), getOffset: function (e) { if (e.getBoundingClientRect && !jcf.isWinPhoneDevice) { var t = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft, i = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop, n = document.documentElement.clientLeft || document.body.clientLeft || 0, s = document.documentElement.clientTop || document.body.clientTop || 0; return { top: Math.round(e.getBoundingClientRect().top + i - s), left: Math.round(e.getBoundingClientRect().left + t - n) } } for (var o = 0, r = 0; e.offsetParent;)o += e.offsetLeft, r += e.offsetTop, e = e.offsetParent; return { top: r, left: o } }, getScrollTop: function () { return window.pageYOffset || document.documentElement.scrollTop }, getScrollLeft: function () { return window.pageXOffset || document.documentElement.scrollLeft }, getWindowWidth: function () { return "CSS1Compat" == document.compatMode ? document.documentElement.clientWidth : document.body.clientWidth }, getWindowHeight: function () { return "CSS1Compat" == document.compatMode ? document.documentElement.clientHeight : document.body.clientHeight }, getStyle: function (e, t) { return document.defaultView && document.defaultView.getComputedStyle ? document.defaultView.getComputedStyle(e, null)[t] : e.currentStyle ? e.currentStyle[t] : e.style[t] }, getParent: function (e, t) { for (; e.parentNode && e.parentNode != document.body;) { if (e.parentNode.tagName.toLowerCase() == t.toLowerCase()) return e.parentNode; e = e.parentNode } return !1 }, isParent: function (e, t) { for (; e.parentNode;) { if (e.parentNode === t) return !0; e = e.parentNode } return !1 }, getLabelFor: function (e) { return jcf.lib.getParent(e, "label") || (e.id ? jcf.lib.queryBySelector('label[for="' + e.id + '"]')[0] : void 0) }, disableTextSelection: function (e) { void 0 !== e.onselectstart ? e.onselectstart = function () { return !1 } : window.opera ? e.setAttribute("unselectable", "on") : jcf.lib.addClass(e, jcf.baseOptions.unselectableClass) }, enableTextSelection: function (e) { void 0 !== e.onselectstart ? e.onselectstart = null : window.opera ? e.removeAttribute("unselectable") : jcf.lib.removeClass(e, jcf.baseOptions.unselectableClass) }, queryBySelector: function (e, t) { if ("string" == typeof t) { for (var i, n = [], s = this.getElementsBySelector(t), o = 0; o < s.length; o++)i = Array.prototype.slice.call(this.getElementsBySelector(e, s[o])), n = n.concat(i); return n } return this.getElementsBySelector(e, t) }, prevSibling: function (e) { for (; (e = e.previousSibling) && 1 != e.nodeType;); return e }, nextSibling: function (e) { for (; (e = e.nextSibling) && 1 != e.nodeType;); return e }, fireEvent: function (e, t) { if (e.dispatchEvent) return (i = document.createEvent("HTMLEvents")).initEvent(t, !0, !0), !e.dispatchEvent(i); if (document.createEventObject) { var i = document.createEventObject(); return e.fireEvent("on" + t, i) } }, isParent: function (e, t) { for (; t.parentNode;) { if (e == t) return !0; t = t.parentNode } return !1 }, inherit: function (e, t) { var i = function () { }; i.prototype = t.prototype, e.prototype = new i, e.prototype.constructor = e, e.superclass = t.prototype }, extend: function (e) { for (var t = 1; t < arguments.length; t++)for (var i in arguments[t]) arguments[t].hasOwnProperty(i) && (e[i] = arguments[t][i]); return e }, hasClass: function (e, t) { return !!e.className && e.className.match(new RegExp("(\\s|^)" + t + "(\\s|$)")) }, addClass: function (e, t) { this.hasClass(e, t) || (e.className += (e.className.length && " " !== e.className.charAt(e.className.length - 1) ? " " : "") + t) }, removeClass: function (e, t) { this.hasClass(e, t) && (e.className = e.className.replace(new RegExp("(\\s|^)" + t + "(\\s|$)"), " ").replace(/\s+$/, "")) }, toggleClass: function (e, t, i) { i ? this.addClass(e, t) : this.removeClass(e, t) }, createElement: function (e, t) { var i = document.createElement(e); for (var n in t) if (t.hasOwnProperty(n)) switch (n) { case "class": i.className = t[n]; break; case "html": i.innerHTML = t[n]; break; case "style": this.setStyles(i, t[n]); break; default: i.setAttribute(n, t[n]) }return i }, setStyles: function (e, t) { for (var i in t) if (t.hasOwnProperty(i)) switch (i) { case "float": e.style.cssFloat = t[i]; break; case "opacity": e.style.filter = "progid:DXImageTransform.Microsoft.Alpha(opacity=" + 100 * t[i] + ")", e.style.opacity = t[i]; break; default: e.style[i] = (void 0 === t[i] ? 0 : t[i]) + ("number" == typeof t[i] ? "px" : "") }return e }, getInnerWidth: function (e) { return e.offsetWidth - (parseInt(this.getStyle(e, "paddingLeft")) || 0) - (parseInt(this.getStyle(e, "paddingRight")) || 0) }, getInnerHeight: function (e) { return e.offsetHeight - (parseInt(this.getStyle(e, "paddingTop")) || 0) - (parseInt(this.getStyle(e, "paddingBottom")) || 0) }, getAllClasses: function (e, t, i) { return i || (i = ""), t || (t = ""), e ? e.replace(new RegExp("(\\s|^)" + i + "(\\s|$)"), " ").replace(/[\s]*([\S]+)+[\s]*/gi, t + "$1 ") : "" }, getElementsBySelector: function (e, t) { if ("function" == typeof document.querySelectorAll) return (t || document).querySelectorAll(e); for (var i = e.split(","), n = [], s = 0; s < i.length; s++) { for (var o = [t || document], r = i[s].replace(/^\s+/, "").replace(/\s+$/, "").split(" "), a = 0; a < r.length; a++)if (token = r[a].replace(/^\s+/, "").replace(/\s+$/, ""), token.indexOf("#") > -1) { var l = (d = token.split("#"))[0], c = d[1], h = document.getElementById(c); if (l && h.nodeName.toLowerCase() != l) return []; o = [h] } else if (token.indexOf(".") > -1) { l = (d = token.split("."))[0] || "*"; for (var d, u = d[1], f = [], p = 0, g = 0; g < o.length; g++) { x = "*" == l ? o[g].getElementsByTagName("*") : o[g].getElementsByTagName(l); for (var m = 0; m < x.length; m++)f[p++] = x[m] } o = []; for (var v = 0, b = 0; b < f.length; b++)f[b].className && f[b].className.match(new RegExp("(\\s|^)" + u + "(\\s|$)")) && (o[v++] = f[b]) } else if (token.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/)) { l = RegExp.$1 || "*"; var y, E = RegExp.$2, S = RegExp.$3, w = RegExp.$4; for ("for" == E.toLowerCase() && this.browser.msie && this.browser.version < 8 && (E = "htmlFor"), f = [], p = 0, g = 0; g < o.length; g++)for (x = "*" == l ? o[g].getElementsByTagName("*") : o[g].getElementsByTagName(l), m = 0; x[m]; m++)f[p++] = x[m]; switch (o = [], v = 0, S) { case "=": y = function (e) { return e.getAttribute(E) == w }; break; case "~": y = function (e) { return e.getAttribute(E).match(new RegExp("(\\s|^)" + w + "(\\s|$)")) }; break; case "|": y = function (e) { return e.getAttribute(E).match(new RegExp("^" + w + "-?")) }; break; case "^": y = function (e) { return 0 == e.getAttribute(E).indexOf(w) }; break; case "$": y = function (e) { return e.getAttribute(E).lastIndexOf(w) == e.getAttribute(E).length - w.length }; break; case "*": y = function (e) { return e.getAttribute(E).indexOf(w) > -1 }; break; default: y = function (e) { return e.getAttribute(E) } }for (o = [], v = 0, b = 0; b < f.length; b++)y(f[b]) && (o[v++] = f[b]) } else { for (l = token, f = [], p = 0, g = 0; g < o.length; g++) { var x = o[g].getElementsByTagName(l); for (m = 0; m < x.length; m++)f[p++] = x[m] } o = f } n = [].concat(n, o) } return n }, scrollSize: function () { var e, t, i, n; function s() { document.body.removeChild(t), t = null } function o(o) { return t && s(), e = document.createElement("div"), (t = document.createElement("div")).style.cssText = "position:absolute;overflow:hidden;width:100px;height:100px", t.appendChild(e), document.body.appendChild(t), e.style.cssText = "height:" + (o ? "100%" : "200px"), i = o ? e.offsetHeight : e.offsetWidth, t.style.overflow = "scroll", e.innerHTML = 1, n = o ? e.offsetHeight : e.offsetWidth, o && t.clientHeight && (n = t.clientHeight), s(), i - n } return { getWidth: function () { return o(!1) }, getHeight: function () { return o(!0) } } }(), domReady: function (e) { var t = !1; function i() { t || (t = !0, e()) } document.addEventListener ? document.addEventListener("DOMContentLoaded", i, !1) : document.attachEvent && (document.documentElement.doScroll && window == window.top && function e() { if (!t && document.body) try { document.documentElement.doScroll("left"), i() } catch (t) { setTimeout(e, 0) } }(), document.attachEvent("onreadystatechange", function () { "complete" === document.readyState && i() })), window.addEventListener ? window.addEventListener("load", i, !1) : window.attachEvent && window.attachEvent("onload", i) }, event: function () { var e = 0; var t = { add: function (i, n, s, o) { i.setInterval && i != window && !i.frameElement && (i = window), s.guid || (s.guid = ++e), i.events || (i.events = {}, i.handle = function (e) { return function (e, t) { e = function (e) { if ((e = e || window.event).isFixed) return e; if (e.isFixed = !0, e.preventDefault = e.preventDefault || function () { this.returnValue = !1 }, e.stopPropagation = e.stopPropagaton || function () { this.cancelBubble = !0 }, e.target || (e.target = e.srcElement), !e.relatedTarget && e.fromElement && (e.relatedTarget = e.fromElement == e.target ? e.toElement : e.fromElement), null == e.pageX && null != e.clientX) { var t = document.documentElement, i = document.body; e.pageX = e.clientX + (t && t.scrollLeft || i && i.scrollLeft || 0) - (t.clientLeft || 0), e.pageY = e.clientY + (t && t.scrollTop || i && i.scrollTop || 0) - (t.clientTop || 0) } return !e.which && e.button && (e.which = 1 & e.button ? 1 : 2 & e.button ? 3 : 4 & e.button ? 2 : 0), "DOMMouseScroll" !== e.type && "mousewheel" !== e.type || (e.mWheelDelta = 0, e.wheelDelta ? e.mWheelDelta = e.wheelDelta / 120 : e.detail && (e.mWheelDelta = -e.detail / 3)), e }(e); var i = this.events[e.type]; for (var n in i) !1 === i[n].call(t || this, e) && (e.preventDefault(), e.stopPropagation()) }.call(i, e) }), i.events[n] || (i.events[n] = {}, i.addEventListener ? i.addEventListener(n, i.handle, !1) : i.attachEvent && i.attachEvent("on" + n, i.handle), "mousewheel" === n && t.add(i, "DOMMouseScroll", s, o)); var r = jcf.lib.bind(s, o); r.guid = s.guid, i.events[n][s.guid] = o ? r : s }, remove: function (e, i, n) { var s = e.events && e.events[i]; if (s) { for (var o in delete s[n.guid], s) return; for (var o in e.removeEventListener ? e.removeEventListener(i, e.handle, !1) : e.detachEvent && e.detachEvent("on" + i, e.handle), delete e.events[i], e.events) return; try { delete e.handle, delete e.events } catch (i) { e.removeAttribute && (e.removeAttribute("handle"), e.removeAttribute("events")) } "mousewheel" === i && t.remove(e, "DOMMouseScroll", n) } } }; return t }() }, jcf.addModule({ name: "customscroll", selector: "div.scrollable-area", defaultOptions: { alwaysPreventWheel: !1, enableMouseWheel: !0, captureFocus: !1, handleNested: !0, alwaysKeepScrollbars: !0, autoDetectWidth: !1, scrollbarOptions: {}, focusClass: "scrollable-focus", wrapperTag: "div", autoDetectWidthClass: "autodetect-width", noHorizontalBarClass: "noscroll-horizontal", noVerticalBarClass: "noscroll-vertical", innerWrapperClass: "scrollable-inner-wrapper", outerWrapperClass: "scrollable-area-wrapper", horizontalClass: "hscrollable", verticalClass: "vscrollable", bothClass: "anyscrollable" }, replaceObject: function () { this.initStructure(), this.refreshState(), this.addEvents() }, initStructure: function () { this.realElement.jcf = this, jcf.lib.hasClass(this.realElement, this.options.bothClass) || jcf.lib.hasClass(this.realElement, this.options.horizontalClass) && jcf.lib.hasClass(this.realElement, this.options.verticalClass) ? this.scrollType = "both" : jcf.lib.hasClass(this.realElement, this.options.horizontalClass) ? this.scrollType = "horizontal" : this.scrollType = "vertical", jcf.lib.hasClass(this.realElement, this.options.autoDetectWidthClass) && (this.options.autoDetectWidth = !0), this.realElement.style.position = "relative", this.realElement.style.overflowX = "hidden", this.buildWrapper(), this.buildScrollbars() }, buildWrapper: function () { var e; (this.outerWrapper = document.createElement(this.options.wrapperTag), this.outerWrapper.className = this.options.outerWrapperClass, this.realElement.parentNode.insertBefore(this.outerWrapper, this.realElement), this.outerWrapper.appendChild(this.realElement), !this.options.autoDetectWidth || "both" !== this.scrollType && "horizontal" !== this.scrollType || 1 !== this.realElement.children.length) || (this.realElement.style.width = "99999px", e = this.realElement.children[0].offsetWidth, this.realElement.style.width = "", e && (this.realElement.children[0].style.width = e + "px")) }, buildScrollbars: function () { "horizontal" !== this.scrollType && "both" !== this.scrollType || (this.hScrollBar = new jcf.plugins.scrollbar(jcf.lib.extend(this.options.scrollbarOptions, { vertical: !1, spawnClass: this, holder: this.outerWrapper, range: this.realElement.scrollWidth - this.realElement.offsetWidth, size: this.realElement.offsetWidth, onScroll: jcf.lib.bind(function (e) { this.realElement.scrollLeft = e }, this) }))), "vertical" !== this.scrollType && "both" !== this.scrollType || (this.vScrollBar = new jcf.plugins.scrollbar(jcf.lib.extend(this.options.scrollbarOptions, { vertical: !0, spawnClass: this, holder: this.outerWrapper, range: this.realElement.scrollHeight - this.realElement.offsetHeight, size: this.realElement.offsetHeight, onScroll: jcf.lib.bind(function (e) { this.realElement.scrollTop = e }, this) }))), this.outerWrapper.style.width = this.realElement.offsetWidth + "px", this.outerWrapper.style.height = this.realElement.offsetHeight + "px", this.resizeScrollContent() }, resizeScrollContent: function () { var e = this.realElement.offsetWidth - jcf.lib.getInnerWidth(this.realElement), t = this.realElement.offsetHeight - jcf.lib.getInnerHeight(this.realElement); this.realElement.style.width = Math.max(0, this.outerWrapper.offsetWidth - e - (this.vScrollBar ? this.vScrollBar.getScrollBarSize() : 0)) + "px", this.realElement.style.height = Math.max(0, this.outerWrapper.offsetHeight - t - (this.hScrollBar ? this.hScrollBar.getScrollBarSize() : 0)) + "px" }, addEvents: function () { if (!jcf.isTouchDevice && this.options.enableMouseWheel && jcf.lib.event.add(this.outerWrapper, "mousewheel", this.onMouseWheel, this), (jcf.isTouchDevice || navigator.msPointerEnabled) && (this.outerWrapper.style.msTouchAction = "none", jcf.lib.event.add(this.realElement, jcf.eventPress, this.onScrollablePress, this)), this.options.handleNested) for (var e = this.realElement, t = this.name; e.parentNode;)e.parentNode.jcf && e.parentNode.jcf.name == t && e.parentNode.jcf.refreshState(), e = e.parentNode }, onMouseWheel: function (e) { return "vertical" === this.scrollType || "both" === this.scrollType ? !1 !== this.vScrollBar.doScrollWheelStep(e.mWheelDelta) && !this.options.alwaysPreventWheel : !1 !== this.hScrollBar.doScrollWheelStep(e.mWheelDelta) && !this.options.alwaysPreventWheel }, onScrollablePress: function (e) { e.pointerType === e.MSPOINTER_TYPE_TOUCH && (this.preventFlag = !0, this.origWindowScrollTop = jcf.lib.getScrollTop(), this.origWindowScrollLeft = jcf.lib.getScrollLeft(), this.scrollableOffset = jcf.lib.getOffset(this.realElement), this.hScrollBar && (this.scrollableTouchX = (jcf.isTouchDevice ? e.changedTouches[0] : e).pageX, this.origValueX = this.hScrollBar.getScrollValue()), this.vScrollBar && (this.scrollableTouchY = (jcf.isTouchDevice ? e.changedTouches[0] : e).pageY, this.origValueY = this.vScrollBar.getScrollValue()), jcf.lib.event.add(this.realElement, jcf.eventMove, this.onScrollableMove, this), jcf.lib.event.add(this.realElement, jcf.eventRelease, this.onScrollableRelease, this)) }, onScrollableMove: function (e) { if (this.vScrollBar) { var t = (jcf.isTouchDevice ? e.changedTouches[0] : e).pageY - this.scrollableTouchY, i = this.origValueY - t; this.vScrollBar.scrollTo(i), (i < 0 || i > this.vScrollBar.options.range) && (this.preventFlag = !1) } if (this.hScrollBar) { var n = (jcf.isTouchDevice ? e.changedTouches[0] : e).pageX - this.scrollableTouchX, s = this.origValueX - n; this.hScrollBar.scrollTo(s), (s < 0 || s > this.hScrollBar.options.range) && (this.preventFlag = !1) } this.preventFlag && e.preventDefault() }, onScrollableRelease: function () { jcf.lib.event.remove(this.realElement, jcf.eventMove, this.onScrollableMove), jcf.lib.event.remove(this.realElement, jcf.eventRelease, this.onScrollableRelease) }, refreshState: function () { this.options.alwaysKeepScrollbars ? (this.hScrollBar && (this.hScrollBar.scrollBar.style.display = "block"), this.vScrollBar && (this.vScrollBar.scrollBar.style.display = "block")) : (this.hScrollBar && (this.getScrollRange(!1) ? (this.hScrollBar.scrollBar.style.display = "block", this.resizeScrollContent(), this.hScrollBar.setRange(this.getScrollRange(!1))) : (this.hScrollBar.scrollBar.style.display = "none", this.realElement.style.width = this.outerWrapper.style.width), jcf.lib.toggleClass(this.outerWrapper, this.options.noHorizontalBarClass, 0 === this.hScrollBar.options.range)), this.vScrollBar && (this.getScrollRange(!0) > 0 ? (this.vScrollBar.scrollBar.style.display = "block", this.resizeScrollContent(), this.vScrollBar.setRange(this.getScrollRange(!0))) : (this.vScrollBar.scrollBar.style.display = "none", this.realElement.style.width = this.outerWrapper.style.width), jcf.lib.toggleClass(this.outerWrapper, this.options.noVerticalBarClass, 0 === this.vScrollBar.options.range))), this.vScrollBar && (this.vScrollBar.setRange(this.realElement.scrollHeight - this.realElement.offsetHeight), this.vScrollBar.setSize(this.realElement.offsetHeight), this.vScrollBar.scrollTo(this.realElement.scrollTop)), this.hScrollBar && (this.hScrollBar.setRange(this.realElement.scrollWidth - this.realElement.offsetWidth), this.hScrollBar.setSize(this.realElement.offsetWidth), this.hScrollBar.scrollTo(this.realElement.scrollLeft)) }, getScrollRange: function (e) { return e ? this.realElement.scrollHeight - this.realElement.offsetHeight : this.realElement.scrollWidth - this.realElement.offsetWidth }, getCurrentRange: function (e) { return this.getScrollRange(e.isVertical) }, onCreateModule: function () { jcf.modules.select && this.extendSelect(), jcf.modules.selectmultiple && this.extendSelectMultiple(), jcf.modules.textarea && this.extendTextarea() }, onModuleAdded: function (e) { "select" == e.prototype.name && this.extendSelect(), "selectmultiple" == e.prototype.name && this.extendSelectMultiple(), "textarea" == e.prototype.name && this.extendTextarea() }, extendSelect: function () { jcf.modules.select.prototype.onControlReady = function (e) { e.selectList.scrollHeight > e.selectList.offsetHeight && (e.jcfScrollable = new jcf.modules.customscroll({ alwaysPreventWheel: !0, replaces: e.selectList })) }; var e = jcf.modules.select.prototype.scrollToItem; jcf.modules.select.prototype.scrollToItem = function () { e.apply(this), this.jcfScrollable && this.jcfScrollable.refreshState() } }, extendTextarea: function () { jcf.modules.textarea.prototype.onControlReady = function (e) { e.jcfScrollable = new jcf.modules.customscroll({ alwaysKeepScrollbars: !0, alwaysPreventWheel: !0, replaces: e.realElement }) }; var e = jcf.modules.textarea.prototype.refreshState; jcf.modules.textarea.prototype.refreshState = function () { e.apply(this), this.jcfScrollable && this.jcfScrollable.refreshState() } }, extendSelectMultiple: function () { jcf.modules.selectmultiple.prototype.onControlReady = function (e) { e.jcfScrollable = new jcf.modules.customscroll({ alwaysPreventWheel: !0, replaces: e.optionsHolder }) }; var e = jcf.modules.selectmultiple.prototype.scrollToItem; jcf.modules.selectmultiple.prototype.scrollToItem = function () { e.apply(this), this.jcfScrollable && this.jcfScrollable.refreshState() }; var t = jcf.modules.selectmultiple.prototype.rebuildOptions; jcf.modules.selectmultiple.prototype.rebuildOptions = function () { t.apply(this), this.jcfScrollable && this.jcfScrollable.refreshState() } } }), jcf.addPlugin({ name: "scrollbar", defaultOptions: { size: 0, range: 0, moveStep: 6, moveDistance: 50, moveInterval: 10, trackHoldDelay: 900, holder: null, vertical: !0, scrollTag: "div", onScroll: function () { }, onScrollEnd: function () { }, onScrollStart: function () { }, disabledClass: "btn-disabled", VscrollBarClass: "vscrollbar", VscrollStructure: '<div class="vscroll-up"></div><div class="vscroll-line"><div class="vscroll-slider"><div class="scroll-bar-top"></div><div class="scroll-bar-bottom"></div></div></div></div><div class="vscroll-down"></div>', VscrollTrack: "div.vscroll-line", VscrollBtnDecClass: "div.vscroll-up", VscrollBtnIncClass: "div.vscroll-down", VscrollSliderClass: "div.vscroll-slider", HscrollBarClass: "hscrollbar", HscrollStructure: '<div class="hscroll-left"></div><div class="hscroll-line"><div class="hscroll-slider"><div class="scroll-bar-left"></div><div class="scroll-bar-right"></div></div></div></div><div class="hscroll-right"></div>', HscrollTrack: "div.hscroll-line", HscrollBtnDecClass: "div.hscroll-left", HscrollBtnIncClass: "div.hscroll-right", HscrollSliderClass: "div.hscroll-slider" }, init: function (e) { this.setOptions(e), this.createScrollBar(), this.attachEvents(), this.setSize() }, setOptions: function (e) { for (var t in this.options = jcf.lib.extend({}, this.defaultOptions, e), this.isVertical = this.options.vertical, this.prefix = this.isVertical ? "V" : "H", this.eventPageOffsetProperty = this.isVertical ? "pageY" : "pageX", this.positionProperty = this.isVertical ? "top" : "left", this.sizeProperty = this.isVertical ? "height" : "width", this.dimenionsProperty = this.isVertical ? "offsetHeight" : "offsetWidth", this.invertedDimenionsProperty = this.isVertical ? "offsetWidth" : "offsetHeight", this.options) 0 == t.indexOf(this.prefix) && (this.options[t.substr(1)] = this.options[t]) }, createScrollBar: function () { this.scrollBar = document.createElement(this.options.scrollTag), this.scrollBar.className = this.options.scrollBarClass, this.scrollBar.innerHTML = this.options.scrollStructure, this.track = jcf.lib.queryBySelector(this.options.scrollTrack, this.scrollBar)[0], this.btnDec = jcf.lib.queryBySelector(this.options.scrollBtnDecClass, this.scrollBar)[0], this.btnInc = jcf.lib.queryBySelector(this.options.scrollBtnIncClass, this.scrollBar)[0], this.slider = jcf.lib.queryBySelector(this.options.scrollSliderClass, this.scrollBar)[0], this.slider.style.position = "absolute", this.track.style.position = "relative" }, attachEvents: function () { this.options.holder && this.options.holder.appendChild(this.scrollBar), jcf.lib.event.add(this.slider, jcf.eventPress, this.onSliderPressed, this), jcf.lib.event.add(this.btnDec, jcf.eventPress, this.onBtnDecPressed, this), jcf.lib.event.add(this.btnInc, jcf.eventPress, this.onBtnIncPressed, this), jcf.lib.event.add(this.track, jcf.eventPress, this.onTrackPressed, this) }, setSize: function (e) { "number" == typeof e && (this.options.size = e), this.scrollOffset = this.scrollValue = this.sliderOffset = 0, this.scrollBar.style[this.sizeProperty] = this.options.size + "px", this.resizeControls(), this.refreshSlider() }, setRange: function (e) { this.options.range = Math.max(e, 0), this.resizeControls() }, doScrollWheelStep: function (e) { if (this.startScroll(), e < 0 && !this.isEndPosition() || e > 0 && !this.isStartPosition()) return this.scrollTo(this.getScrollValue() - this.options.moveDistance * e), this.moveScroll(), this.endScroll(), !1 }, resizeControls: function () { this.barSize = this.scrollBar[this.dimenionsProperty], this.btnDecSize = this.btnDec[this.dimenionsProperty], this.btnIncSize = this.btnInc[this.dimenionsProperty], this.trackSize = Math.max(0, this.barSize - this.btnDecSize - this.btnIncSize), this.track.style[this.sizeProperty] = this.trackSize + "px", this.trackSize = this.track[this.dimenionsProperty], this.sliderSize = this.getSliderSize(), this.slider.style[this.sizeProperty] = this.sliderSize + "px", this.sliderSize = this.slider[this.dimenionsProperty] }, refreshSlider: function (e) { e && this.resizeControls(), this.sliderOffset = isNaN(this.sliderOffset) ? 0 : this.sliderOffset, this.slider.style[this.positionProperty] = this.sliderOffset + "px" }, startScroll: function () { this.options.spawnClass && "function" == typeof this.options.spawnClass.getCurrentRange && this.setRange(this.options.spawnClass.getCurrentRange(this)), this.resizeControls(), this.scrollBarOffset = jcf.lib.getOffset(this.track)[this.positionProperty], this.options.onScrollStart() }, moveScroll: function () { this.options.onScroll(this.scrollValue), jcf.lib.removeClass(this.btnDec, this.options.disabledClass), jcf.lib.removeClass(this.btnInc, this.options.disabledClass), 0 === this.scrollValue && jcf.lib.addClass(this.btnDec, this.options.disabledClass), this.scrollValue === this.options.range && jcf.lib.addClass(this.btnInc, this.options.disabledClass) }, endScroll: function () { this.options.onScrollEnd() }, startButtonMoveScroll: function (e) { this.startScroll(), clearInterval(this.buttonScrollTimer), this.buttonScrollTimer = setInterval(jcf.lib.bind(function () { this.scrollValue += this.options.moveStep * e, this.scrollValue > this.options.range ? (this.scrollValue = this.options.range, this.endButtonMoveScroll()) : this.scrollValue < 0 && (this.scrollValue = 0, this.endButtonMoveScroll()), this.scrollTo(this.scrollValue) }, this), this.options.moveInterval) }, endButtonMoveScroll: function () { clearInterval(this.buttonScrollTimer), this.endScroll() }, isStartPosition: function () { return 0 === this.scrollValue }, isEndPosition: function () { return $(this).closest(".more").hide(), this.scrollValue === this.options.range }, getSliderSize: function () { return Math.round(this.getSliderSizePercent() * this.trackSize / 100) }, getSliderSizePercent: function () { return 0 === this.options.range ? 0 : 100 * this.barSize / (this.barSize + this.options.range) }, getSliderOffsetByScrollValue: function () { return 100 * this.scrollValue / this.options.range * (this.trackSize - this.sliderSize) / 100 }, getSliderOffsetPercent: function () { return 100 * this.sliderOffset / (this.trackSize - this.sliderSize) }, getScrollValueBySliderOffset: function () { return this.getSliderOffsetPercent() * this.options.range / 100 }, getScrollBarSize: function () { return this.scrollBar[this.invertedDimenionsProperty] }, getScrollValue: function () { return this.scrollValue || 0 }, scrollOnePage: function (e) { this.scrollTo(this.scrollValue + e * this.barSize) }, scrollTo: function (e) { this.scrollValue = e < 0 ? 0 : e > this.options.range ? this.options.range : e, this.sliderOffset = this.getSliderOffsetByScrollValue(), this.refreshSlider(), this.moveScroll() }, onSliderPressed: function (e) { return jcf.lib.event.add(document.body, jcf.eventRelease, this.onSliderRelease, this), jcf.lib.event.add(document.body, jcf.eventMove, this.onSliderMove, this), jcf.lib.disableTextSelection(this.slider), this.sliderInnerOffset = (jcf.isTouchDevice ? e.changedTouches[0] : e)[this.eventPageOffsetProperty] - jcf.lib.getOffset(this.slider)[this.positionProperty], this.startScroll(), !1 }, onSliderRelease: function () { jcf.lib.event.remove(document.body, jcf.eventRelease, this.onSliderRelease), jcf.lib.event.remove(document.body, jcf.eventMove, this.onSliderMove) }, onSliderMove: function (e) { this.sliderOffset = (jcf.isTouchDevice ? e.changedTouches[0] : e)[this.eventPageOffsetProperty] - this.scrollBarOffset - this.sliderInnerOffset, this.sliderOffset < 0 ? this.sliderOffset = 0 : this.sliderOffset + this.sliderSize > this.trackSize && (this.sliderOffset = this.trackSize - this.sliderSize), this.previousOffset != this.sliderOffset && (this.previousOffset = this.sliderOffset, this.scrollTo(this.getScrollValueBySliderOffset())) }, onBtnIncPressed: function () { return jcf.lib.event.add(document.body, jcf.eventRelease, this.onBtnIncRelease, this), jcf.lib.disableTextSelection(this.btnInc), this.startButtonMoveScroll(1), !1 }, onBtnIncRelease: function () { jcf.lib.event.remove(document.body, jcf.eventRelease, this.onBtnIncRelease), this.endButtonMoveScroll() }, onBtnDecPressed: function () { return jcf.lib.event.add(document.body, jcf.eventRelease, this.onBtnDecRelease, this), jcf.lib.disableTextSelection(this.btnDec), this.startButtonMoveScroll(-1), !1 }, onBtnDecRelease: function () { jcf.lib.event.remove(document.body, jcf.eventRelease, this.onBtnDecRelease), this.endButtonMoveScroll() }, onTrackPressed: function (e) { var t = e[this.eventPageOffsetProperty] - jcf.lib.getOffset(this.track)[this.positionProperty], i = t < this.sliderOffset ? -1 : t > this.sliderOffset + this.sliderSize ? 1 : 0; i && this.scrollOnePage(i) } }), PlatformDetect = function () { for (var e, t = {}, i = document.getElementsByTagName("link"), n = 0; n < i.length; n++)if ("all" === i[n].getAttribute("media") && (e = i[n].getAttribute("href"))) { e = e.replace(/[^\/]*$/, ""); break } return { options: { cssPath: "css/" }, addModule: function (e) { t[e.type] = e }, addRule: function (e) { if (this.matchRule(e)) return this.applyRule(e), !0 }, matchRule: function (e) { return t[e.type].matchRule(e) }, applyRule: function (t) { var i, n, s = document.getElementsByTagName("head")[0]; t.css && (n = '<link rel="stylesheet" href="' + (e || this.options.cssPath) + t.css + '" />', s ? ((i = document.createElement("div")).innerHTML = n, s.appendChild(i.childNodes[0])) : document.write(n)), t.meta && (s ? ((i = document.createElement("div")).innerHTML = t.meta, s.appendChild(i.childNodes[0])) : document.write(t.meta)) }, matchVersions: function (e, t) { t = t.toString(), e = e.toString(); var i = parseInt(t, 10) === parseInt(e, 10), n = 0 === (e.length > t.length ? e.indexOf(t) : t.indexOf(e)); return i && n } } }(), PlatformDetect.addModule({ type: "allmobile", uaMatch: function (e) { return this.ua || (this.ua = navigator.userAgent.toLowerCase()), -1 != this.ua.indexOf(e.toLowerCase()) }, matchRule: function (e) { return this.uaMatch("mobi") || this.uaMatch("midp") || this.uaMatch("ppc") || this.uaMatch("webos") || this.uaMatch("android") || this.uaMatch("phone os") || this.uaMatch("touch") } }), PlatformDetect.addRule({ type: "allmobile", css: "allmobile.css" }), function (e, t) { "use strict"; var i = function (e, t) { return new i.Instance(e, t || {}) }; i.defaults = { stop_browser_behavior: { userSelect: "none", touchAction: "none", touchCallout: "none", contentZooming: "none", userDrag: "none", tapHighlightColor: "rgba(0,0,0,0)" } }, i.HAS_POINTEREVENTS = navigator.pointerEnabled || navigator.msPointerEnabled, i.HAS_TOUCHEVENTS = "ontouchstart" in e, i.MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i, i.NO_MOUSEEVENTS = i.HAS_TOUCHEVENTS && navigator.userAgent.match(i.MOBILE_REGEX), i.EVENT_TYPES = {}, i.DIRECTION_DOWN = "down", i.DIRECTION_LEFT = "left", i.DIRECTION_UP = "up", i.DIRECTION_RIGHT = "right", i.POINTER_MOUSE = "mouse", i.POINTER_TOUCH = "touch", i.POINTER_PEN = "pen", i.EVENT_START = "start", i.EVENT_MOVE = "move", i.EVENT_END = "end", i.DOCUMENT = document, i.plugins = {}, i.READY = !1, i.Instance = function (e, t) { var n = this; return function () { if (!i.READY) { for (var e in i.event.determineEventTypes(), i.gestures) i.gestures.hasOwnProperty(e) && i.detection.register(i.gestures[e]); i.event.onTouch(i.DOCUMENT, i.EVENT_MOVE, i.detection.detect), i.event.onTouch(i.DOCUMENT, i.EVENT_END, i.detection.detect), i.READY = !0 } }(), this.element = e, this.enabled = !0, this.options = i.utils.extend(i.utils.extend({}, i.defaults), t || {}), this.options.stop_browser_behavior && i.utils.stopDefaultBrowserBehavior(this.element, this.options.stop_browser_behavior), i.event.onTouch(e, i.EVENT_START, function (e) { n.enabled && i.detection.startDetect(n, e) }), this }, i.Instance.prototype = { on: function (e, t) { for (var i = e.split(" "), n = 0; i.length > n; n++)this.element.addEventListener(i[n], t, !1); return this }, off: function (e, t) { for (var i = e.split(" "), n = 0; i.length > n; n++)this.element.removeEventListener(i[n], t, !1); return this }, trigger: function (e, t) { var n = i.DOCUMENT.createEvent("Event"); n.initEvent(e, !0, !0), n.gesture = t; var s = this.element; return i.utils.hasParent(t.target, s) && (s = t.target), s.dispatchEvent(n), this }, enable: function (e) { return this.enabled = e, this } }; var n = null, s = !1, o = !1; i.event = { bindDom: function (e, t, i) { for (var n = t.split(" "), s = 0; n.length > s; s++)e.addEventListener(n[s], i, !1) }, onTouch: function (e, t, r) { var a = this; this.bindDom(e, i.EVENT_TYPES[t], function (l) { var c = l.type.toLowerCase(); if (!c.match(/mouse/) || !o) { (c.match(/touch/) || c.match(/pointerdown/) || c.match(/mouse/) && 1 === l.which) && (s = !0), c.match(/touch|pointer/) && (o = !0); var h = 0; s && (i.HAS_POINTEREVENTS && t != i.EVENT_END ? h = i.PointerEvent.updatePointer(t, l) : c.match(/touch/) ? h = l.touches.length : o || (h = c.match(/up/) ? 0 : 1), h > 0 && t == i.EVENT_END ? t = i.EVENT_MOVE : h || (t = i.EVENT_END), h || null === n ? n = l : l = n, r.call(i.detection, a.collectEventData(e, t, l)), i.HAS_POINTEREVENTS && t == i.EVENT_END && (h = i.PointerEvent.updatePointer(t, l))), h || (n = null, s = !1, o = !1, i.PointerEvent.reset()) } }) }, determineEventTypes: function () { var e; e = i.HAS_POINTEREVENTS ? i.PointerEvent.getEvents() : i.NO_MOUSEEVENTS ? ["touchstart", "touchmove", "touchend touchcancel"] : ["touchstart mousedown", "touchmove mousemove", "touchend touchcancel mouseup"], i.EVENT_TYPES[i.EVENT_START] = e[0], i.EVENT_TYPES[i.EVENT_MOVE] = e[1], i.EVENT_TYPES[i.EVENT_END] = e[2] }, getTouchList: function (e) { return i.HAS_POINTEREVENTS ? i.PointerEvent.getTouchList() : e.touches ? e.touches : [{ identifier: 1, pageX: e.pageX, pageY: e.pageY, target: e.target }] }, collectEventData: function (e, t, n) { var s = this.getTouchList(n, t), o = i.POINTER_TOUCH; return (n.type.match(/mouse/) || i.PointerEvent.matchType(i.POINTER_MOUSE, n)) && (o = i.POINTER_MOUSE), { center: i.utils.getCenter(s), timeStamp: (new Date).getTime(), target: n.target, touches: s, eventType: t, pointerType: o, srcEvent: n, preventDefault: function () { this.srcEvent.preventManipulation && this.srcEvent.preventManipulation(), this.srcEvent.preventDefault && this.srcEvent.preventDefault() }, stopPropagation: function () { this.srcEvent.stopPropagation() }, stopDetect: function () { return i.detection.stopDetect() } } } }, i.PointerEvent = { pointers: {}, getTouchList: function () { var e = this, t = []; return Object.keys(e.pointers).sort().forEach(function (i) { t.push(e.pointers[i]) }), t }, updatePointer: function (e, t) { return e == i.EVENT_END ? this.pointers = {} : (t.identifier = t.pointerId, this.pointers[t.pointerId] = t), Object.keys(this.pointers).length }, matchType: function (e, t) { if (!t.pointerType) return !1; var n = {}; return n[i.POINTER_MOUSE] = t.pointerType == t.MSPOINTER_TYPE_MOUSE || t.pointerType == i.POINTER_MOUSE, n[i.POINTER_TOUCH] = t.pointerType == t.MSPOINTER_TYPE_TOUCH || t.pointerType == i.POINTER_TOUCH, n[i.POINTER_PEN] = t.pointerType == t.MSPOINTER_TYPE_PEN || t.pointerType == i.POINTER_PEN, n[e] }, getEvents: function () { return ["pointerdown MSPointerDown", "pointermove MSPointerMove", "pointerup pointercancel MSPointerUp MSPointerCancel"] }, reset: function () { this.pointers = {} } }, i.utils = { extend: function (e, i, n) { for (var s in i) e[s] !== t && n || (e[s] = i[s]); return e }, hasParent: function (e, t) { for (; e;) { if (e == t) return !0; e = e.parentNode } return !1 }, getCenter: function (e) { for (var t = [], i = [], n = 0, s = e.length; s > n; n++)t.push(e[n].pageX), i.push(e[n].pageY); return { pageX: (Math.min.apply(Math, t) + Math.max.apply(Math, t)) / 2, pageY: (Math.min.apply(Math, i) + Math.max.apply(Math, i)) / 2 } }, getVelocity: function (e, t, i) { return { x: Math.abs(t / e) || 0, y: Math.abs(i / e) || 0 } }, getAngle: function (e, t) { var i = t.pageY - e.pageY, n = t.pageX - e.pageX; return 180 * Math.atan2(i, n) / Math.PI }, getDirection: function (e, t) { return Math.abs(e.pageX - t.pageX) >= Math.abs(e.pageY - t.pageY) ? e.pageX - t.pageX > 0 ? i.DIRECTION_LEFT : i.DIRECTION_RIGHT : e.pageY - t.pageY > 0 ? i.DIRECTION_UP : i.DIRECTION_DOWN }, getDistance: function (e, t) { var i = t.pageX - e.pageX, n = t.pageY - e.pageY; return Math.sqrt(i * i + n * n) }, getScale: function (e, t) { return e.length >= 2 && t.length >= 2 ? this.getDistance(t[0], t[1]) / this.getDistance(e[0], e[1]) : 1 }, getRotation: function (e, t) { return e.length >= 2 && t.length >= 2 ? this.getAngle(t[1], t[0]) - this.getAngle(e[1], e[0]) : 0 }, isVertical: function (e) { return e == i.DIRECTION_UP || e == i.DIRECTION_DOWN }, stopDefaultBrowserBehavior: function (e, t) { var i, n = ["webkit", "khtml", "moz", "ms", "o", ""]; if (t && e.style) { for (var s = 0; n.length > s; s++)for (var o in t) t.hasOwnProperty(o) && (i = o, n[s] && (i = n[s] + i.substring(0, 1).toUpperCase() + i.substring(1)), e.style[i] = t[o]); "none" == t.userSelect && (e.onselectstart = function () { return !1 }) } } }, i.detection = { gestures: [], current: null, previous: null, stopped: !1, startDetect: function (e, t) { this.current || (this.stopped = !1, this.current = { inst: e, startEvent: i.utils.extend({}, t), lastEvent: !1, name: "" }, this.detect(t)) }, detect: function (e) { if (this.current && !this.stopped) { e = this.extendEventData(e); for (var t = this.current.inst.options, n = 0, s = this.gestures.length; s > n; n++) { var o = this.gestures[n]; if (!this.stopped && !1 !== t[o.name] && !1 === o.handler.call(o, e, this.current.inst)) { this.stopDetect(); break } } return this.current && (this.current.lastEvent = e), e.eventType == i.EVENT_END && !e.touches.length - 1 && this.stopDetect(), e } }, stopDetect: function () { this.previous = i.utils.extend({}, this.current), this.current = null, this.stopped = !0 }, extendEventData: function (e) { var t = this.current.startEvent; if (t && (e.touches.length != t.touches.length || e.touches === t.touches)) { t.touches = []; for (var n = 0, s = e.touches.length; s > n; n++)t.touches.push(i.utils.extend({}, e.touches[n])) } var o = e.timeStamp - t.timeStamp, r = e.center.pageX - t.center.pageX, a = e.center.pageY - t.center.pageY, l = i.utils.getVelocity(o, r, a); return i.utils.extend(e, { deltaTime: o, deltaX: r, deltaY: a, velocityX: l.x, velocityY: l.y, distance: i.utils.getDistance(t.center, e.center), angle: i.utils.getAngle(t.center, e.center), direction: i.utils.getDirection(t.center, e.center), scale: i.utils.getScale(t.touches, e.touches), rotation: i.utils.getRotation(t.touches, e.touches), startEvent: t }), e }, register: function (e) { var n = e.defaults || {}; return n[e.name] === t && (n[e.name] = !0), i.utils.extend(i.defaults, n, !0), e.index = e.index || 1e3, this.gestures.push(e), this.gestures.sort(function (e, t) { return e.index < t.index ? -1 : e.index > t.index ? 1 : 0 }), this.gestures } }, i.gestures = i.gestures || {}, i.gestures.Hold = { name: "hold", index: 10, defaults: { hold_timeout: 500, hold_threshold: 1 }, timer: null, handler: function (e, t) { switch (e.eventType) { case i.EVENT_START: clearTimeout(this.timer), i.detection.current.name = this.name, this.timer = setTimeout(function () { "hold" == i.detection.current.name && t.trigger("hold", e) }, t.options.hold_timeout); break; case i.EVENT_MOVE: e.distance > t.options.hold_threshold && clearTimeout(this.timer); break; case i.EVENT_END: clearTimeout(this.timer) } } }, i.gestures.Tap = { name: "tap", index: 100, defaults: { tap_max_touchtime: 250, tap_max_distance: 10, tap_always: !0, doubletap_distance: 20, doubletap_interval: 300 }, handler: function (e, t) { if (e.eventType == i.EVENT_END) { var n = i.detection.previous, s = !1; if (e.deltaTime > t.options.tap_max_touchtime || e.distance > t.options.tap_max_distance) return; n && "tap" == n.name && e.timeStamp - n.lastEvent.timeStamp < t.options.doubletap_interval && e.distance < t.options.doubletap_distance && (t.trigger("doubletap", e), s = !0), (!s || t.options.tap_always) && (i.detection.current.name = "tap", t.trigger(i.detection.current.name, e)) } } }, i.gestures.Swipe = { name: "swipe", index: 40, defaults: { swipe_max_touches: 1, swipe_velocity: .7 }, handler: function (e, t) { if (e.eventType == i.EVENT_END) { if (t.options.swipe_max_touches > 0 && e.touches.length > t.options.swipe_max_touches) return; (e.velocityX > t.options.swipe_velocity || e.velocityY > t.options.swipe_velocity) && (t.trigger(this.name, e), t.trigger(this.name + e.direction, e)) } } }, i.gestures.Drag = { name: "drag", index: 50, defaults: { drag_min_distance: 10, drag_max_touches: 1, drag_block_horizontal: !1, drag_block_vertical: !1, drag_lock_to_axis: !1, drag_lock_min_distance: 25 }, triggered: !1, handler: function (e, n) { if (i.detection.current.name != this.name && this.triggered) return n.trigger(this.name + "end", e), this.triggered = !1, t; if (!(n.options.drag_max_touches > 0 && e.touches.length > n.options.drag_max_touches)) switch (e.eventType) { case i.EVENT_START: this.triggered = !1; break; case i.EVENT_MOVE: if (e.distance < n.options.drag_min_distance && i.detection.current.name != this.name) return; i.detection.current.name = this.name, (i.detection.current.lastEvent.drag_locked_to_axis || n.options.drag_lock_to_axis && n.options.drag_lock_min_distance <= e.distance) && (e.drag_locked_to_axis = !0); var s = i.detection.current.lastEvent.direction; e.drag_locked_to_axis && s !== e.direction && (e.direction = i.utils.isVertical(s) ? 0 > e.deltaY ? i.DIRECTION_UP : i.DIRECTION_DOWN : 0 > e.deltaX ? i.DIRECTION_LEFT : i.DIRECTION_RIGHT), this.triggered || (n.trigger(this.name + "start", e), this.triggered = !0), n.trigger(this.name, e), n.trigger(this.name + e.direction, e), (n.options.drag_block_vertical && i.utils.isVertical(e.direction) || n.options.drag_block_horizontal && !i.utils.isVertical(e.direction)) && e.preventDefault(); break; case i.EVENT_END: this.triggered && n.trigger(this.name + "end", e), this.triggered = !1 } } }, i.gestures.Transform = { name: "transform", index: 45, defaults: { transform_min_scale: .01, transform_min_rotation: 1, transform_always_block: !1 }, triggered: !1, handler: function (e, n) { if (i.detection.current.name != this.name && this.triggered) return n.trigger(this.name + "end", e), this.triggered = !1, t; if (!(2 > e.touches.length)) switch (n.options.transform_always_block && e.preventDefault(), e.eventType) { case i.EVENT_START: this.triggered = !1; break; case i.EVENT_MOVE: var s = Math.abs(1 - e.scale), o = Math.abs(e.rotation); if (n.options.transform_min_scale > s && n.options.transform_min_rotation > o) return; i.detection.current.name = this.name, this.triggered || (n.trigger(this.name + "start", e), this.triggered = !0), n.trigger(this.name, e), o > n.options.transform_min_rotation && n.trigger("rotate", e), s > n.options.transform_min_scale && (n.trigger("pinch", e), n.trigger("pinch" + (1 > e.scale ? "in" : "out"), e)); break; case i.EVENT_END: this.triggered && n.trigger(this.name + "end", e), this.triggered = !1 } } }, i.gestures.Touch = { name: "touch", index: -1 / 0, defaults: { prevent_default: !1, prevent_mouseevents: !1 }, handler: function (e, n) { return n.options.prevent_mouseevents && e.pointerType == i.POINTER_MOUSE ? (e.stopDetect(), t) : (n.options.prevent_default && e.preventDefault(), e.eventType == i.EVENT_START && n.trigger(this.name, e), t) } }, i.gestures.Release = { name: "release", index: 1 / 0, handler: function (e, t) { e.eventType == i.EVENT_END && t.trigger(this.name, e) } }, "object" == typeof module && "object" == typeof module.exports ? module.exports = i : (e.Hammer = i, "function" == typeof e.define && e.define.amd && e.define("hammer", [], function () { return i })) }(this), function (e, t) { "use strict"; e !== t && (Hammer.event.bindDom = function (i, n, s) { e(i).on(n, function (e) { var i = e.originalEvent || e; i.pageX === t && (i.pageX = e.pageX, i.pageY = e.pageY), i.target || (i.target = e.target), i.which === t && (i.which = i.button), i.preventDefault || (i.preventDefault = e.preventDefault), i.stopPropagation || (i.stopPropagation = e.stopPropagation), s.call(this, i) }) }, Hammer.Instance.prototype.on = function (t, i) { return e(this.element).on(t, i) }, Hammer.Instance.prototype.off = function (t, i) { return e(this.element).off(t, i) }, Hammer.Instance.prototype.trigger = function (t, i) { var n = e(this.element); return n.has(i.target).length && (n = e(i.target)), n.trigger({ type: t, gesture: i }) }, e.fn.hammer = function (t) { return this.each(function () { var i = e(this), n = i.data("hammer"); n ? n && t && Hammer.utils.extend(n.options, t) : i.data("hammer", new Hammer(this, t || {})) }) }) }(window.jQuery || window.Zepto), function (e) { var t, i, n, s, o, r, a, l, c, h, d, u, f, p = 0, g = {}, m = [], v = 0, b = {}, y = [], E = null, S = new Image, w = /\.(jpg|gif|png|bmp|jpeg)(.*)?$/i, x = /[^\.]\.(swf)\s*$/i, T = 1, C = 0, j = "", P = !1, O = e.extend(e("<div/>")[0], { prop: 0 }), N = e.browser.msie && e.browser.version < 7 && !window.XMLHttpRequest, I = function () { i.hide(), S.onerror = S.onload = null, E && E.abort(), t.empty() }, D = function () { if (!1 === g.onError(m, p, g)) return i.hide(), void (P = !1); g.titleShow = !1, g.width = "auto", g.height = "auto", t.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'), _() }, k = function () { var n, s, o, a, l, c, h = m[p]; if (I(), g = e.extend({}, e.fn.fancybox.defaults, void 0 === e(h).data("fancybox") ? g : e(h).data("fancybox")), !1 !== (c = g.onStart(m, p, g))) if ("object" == typeof c && (g = e.extend(g, c)), o = g.title || (h.nodeName ? e(h).attr("title") : h.title) || "", h.nodeName && !g.orig && (g.orig = e(h).children("img:first").length ? e(h).children("img:first") : e(h)), "" === o && g.orig && g.titleFromAlt && (o = g.orig.attr("alt")), n = g.href || (h.nodeName ? e(h).attr("href") : h.href) || null, (/^(?:javascript)/i.test(n) || "#" == n) && (n = null), g.type ? (s = g.type, n || (n = g.content)) : g.content ? s = "html" : n && (s = n.match(w) ? "image" : n.match(x) ? "swf" : e(h).hasClass("iframe") ? "iframe" : 0 === n.indexOf("#") ? "inline" : "ajax"), s) switch ("inline" == s && (h = n.substr(n.indexOf("#")), s = e(h).length > 0 ? "inline" : "ajax"), g.type = s, g.href = n, g.title = o, g.autoDimensions && ("html" == g.type || "inline" == g.type || "ajax" == g.type ? (g.width = "auto", g.height = "auto") : g.autoDimensions = !1), g.modal && (g.overlayShow = !0, g.hideOnOverlayClick = !1, g.hideOnContentClick = !1, g.enableEscapeButton = !1, g.showCloseButton = !1), g.padding = parseInt(g.padding, 10), g.margin = parseInt(g.margin, 10), t.css("padding", g.padding + g.margin), e(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change", function () { e(this).replaceWith(r.children()) }), s) { case "html": t.html(g.content), _(); break; case "inline": if (!0 === e(h).parent().is("#fancybox-content")) return void (P = !1); e('<div class="fancybox-inline-tmp" />').hide().insertBefore(e(h)).bind("fancybox-cleanup", function () { e(this).replaceWith(r.children()) }).bind("fancybox-cancel", function () { e(this).replaceWith(t.children()) }), e(h).appendTo(t), _(); break; case "image": P = !1, e.fancybox.showActivity(), (S = new Image).onerror = function () { D() }, S.onload = function () { P = !0, S.onerror = S.onload = null, R() }, S.src = n; break; case "swf": g.scrolling = "no", a = '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="' + g.width + '" height="' + g.height + '"><param name="movie" value="' + n + '"></param>', l = "", e.each(g.swf, function (e, t) { a += '<param name="' + e + '" value="' + t + '"></param>', l += " " + e + '="' + t + '"' }), a += '<embed src="' + n + '" type="application/x-shockwave-flash" width="' + g.width + '" height="' + g.height + '"' + l + "></embed></object>", t.html(a), _(); break; case "ajax": P = !1, e.fancybox.showActivity(), g.ajax.win = g.ajax.success, E = e.ajax(e.extend({}, g.ajax, { url: n, data: g.ajax.data || {}, dataType: "text", error: function (e, t, i) { e.status > 0 && D() }, success: function (e, s, o) { var r = "object" == typeof o ? o : E; if (200 == r.status || 0 === r.status) { if ("function" == typeof g.ajax.win) { if (!1 === (c = g.ajax.win(n, e, s, o))) return void i.hide(); "string" != typeof c && "object" != typeof c || (e = c) } t.html(e), _() } } })); break; case "iframe": B() } else D(); else P = !1 }, _ = function () { var i = g.width, n = g.height; i = i.toString().indexOf("%") > -1 ? parseInt((e(window).width() - 2 * g.margin) * parseFloat(i) / 100, 10) + "px" : "auto" == i ? "auto" : i + "px", n = n.toString().indexOf("%") > -1 ? parseInt((e(window).height() - 2 * g.margin) * parseFloat(n) / 100, 10) + "px" : "auto" == n ? "auto" : n + "px", t.wrapInner('<div style="width:' + i + ";height:" + n + ";overflow: " + ("auto" == g.scrolling ? "auto" : "yes" == g.scrolling ? "scroll" : "hidden") + ';position:relative;"></div>'), g.width = t.width(), g.height = t.height(), B() }, R = function () { g.width = S.width, g.height = S.height, e("<img />").attr({ id: "fancybox-img", src: S.src, alt: g.alt }).appendTo(t), B() }, B = function () { var o, d; return i.hide(), s.is(":visible") && !1 === b.onCleanup(y, v, b) ? (e.event.trigger("fancybox-cancel"), void (P = !1)) : (P = !0, e(r.add(n)).unbind(), e(window).unbind("resize.fb scroll.fb"), e(document).unbind("keydown.fb"), s.is(":visible") && "outside" !== b.titlePosition && s.css("height", s.height()), y = m, v = p, (b = g).overlayShow ? (n.css({ "background-color": b.overlayColor, opacity: b.overlayOpacity, cursor: b.hideOnOverlayClick ? "pointer" : "auto", height: e(document).height() }), n.is(":visible") || (N && e("select:not(#fancybox-tmp select)").filter(function () { return "hidden" !== this.style.visibility }).css({ visibility: "hidden" }).one("fancybox-cleanup", function () { this.style.visibility = "inherit" }), n.show())) : n.hide(), f = L(), H(), s.is(":visible") ? (e(a.add(c).add(h)).hide(), o = s.position(), u = { top: o.top, left: o.left, width: s.width(), height: s.height() }, d = u.width == f.width && u.height == f.height, void r.fadeTo(b.changeFade, .3, function () { var i = function () { r.html(t.contents()).fadeTo(b.changeFade, 1, M) }; e.event.trigger("fancybox-change"), r.empty().removeAttr("filter").css({ "border-width": b.padding, width: f.width - 2 * b.padding, height: g.autoDimensions ? "auto" : f.height - C - 2 * b.padding }), d ? i() : (O.prop = 0, e(O).animate({ prop: 1 }, { duration: b.changeSpeed, easing: b.easingChange, step: A, complete: i })) })) : (s.removeAttr("style"), r.css("border-width", b.padding), "elastic" == b.transitionIn ? (u = z(), r.html(t.contents()), s.show(), b.opacity && (f.opacity = 0), O.prop = 0, void e(O).animate({ prop: 1 }, { duration: b.speedIn, easing: b.easingIn, step: A, complete: M })) : ("inside" == b.titlePosition && C > 0 && l.show(), r.css({ width: f.width - 2 * b.padding, height: g.autoDimensions ? "auto" : f.height - C - 2 * b.padding }).html(t.contents()), void s.css(f).fadeIn("none" == b.transitionIn ? 0 : b.speedIn, M)))) }, H = function () { var t; if (j = b.title || "", C = 0, l.empty().removeAttr("style").removeClass(), !1 !== b.titleShow) if ((j = e.isFunction(b.titleFormat) ? b.titleFormat(j, y, v, b) : !(!(t = j) || !t.length) && ("float" == b.titlePosition ? '<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">' + t + '</td><td id="fancybox-title-float-right"></td></tr></table>' : '<div id="fancybox-title-' + b.titlePosition + '">' + t + "</div>")) && "" !== j) { switch (l.addClass("fancybox-title-" + b.titlePosition).html(j).appendTo("body").show(), b.titlePosition) { case "inside": l.css({ width: f.width - 2 * b.padding, marginLeft: b.padding, marginRight: b.padding }), C = l.outerHeight(!0), l.appendTo(o), f.height += C; break; case "over": l.css({ marginLeft: b.padding, width: f.width - 2 * b.padding, bottom: b.padding }).appendTo(o); break; case "float": l.css("left", -1 * parseInt((l.width() - f.width - 40) / 2, 10)).appendTo(s); break; default: l.css({ width: f.width - 2 * b.padding, paddingLeft: b.padding, paddingRight: b.padding }).appendTo(s) }l.hide() } else l.hide(); else l.hide() }, M = function () { e.support.opacity || ($("#fancybox-content").css("filter", 0), $("#fancybox-wrap").css("filter", 0)), g.autoDimensions && r.css("height", "auto"), s.css("height", "auto"), j && j.length && l.show(), b.showCloseButton && a.show(), function () { if ((b.enableEscapeButton || b.enableKeyboardNav) && e(document).bind("keydown.fb", function (t) { console.log(t.target.tagName); 27 == t.keyCode && b.enableEscapeButton ? (t.preventDefault(), e.fancybox.close()) : 37 != t.keyCode && 39 != t.keyCode || !b.enableKeyboardNav || "INPUT" === t.target.tagName || "TEXTAREA" === t.target.tagName || "SELECT" === t.target.tagName || (t.preventDefault(), e.fancybox[37 == t.keyCode ? "prev" : "next"]()) }), !b.showNavArrows) return c.hide(), void h.hide(); (b.cyclic && y.length > 1 || 0 !== v) && c.show(), (b.cyclic && y.length > 1 || v != y.length - 1) && h.show() }(), b.hideOnContentClick && r.bind("click", e.fancybox.close), b.hideOnOverlayClick && n.bind("click", e.fancybox.close), e(window).bind("resize.fb", e.fancybox.resize), b.centerOnScroll && e(window).bind("scroll.fb", e.fancybox.center), "iframe" == b.type && e('<iframe id="fancybox-frame" name="fancybox-frame' + (new Date).getTime() + '" frameborder="0" hspace="0" ' + (e.browser.msie ? 'allowtransparency="true""' : "") + ' scrolling="' + g.scrolling + '" src="' + b.href + '"></iframe>').appendTo(r), s.show(), P = !1, e.fancybox.center(), b.onComplete(y, v, b), V() }, V = function () { var e; y.length - 1 > v && void 0 !== (e = y[v + 1].href) && e.match(w) && ((new Image).src = e), v > 0 && void 0 !== (e = y[v - 1].href) && e.match(w) && ((new Image).src = e) }, A = function (e) { var t = { width: parseInt(u.width + (f.width - u.width) * e, 10), height: parseInt(u.height + (f.height - u.height) * e, 10), top: parseInt(u.top + (f.top - u.top) * e, 10), left: parseInt(u.left + (f.left - u.left) * e, 10) }; void 0 !== f.opacity && (t.opacity = e < .5 ? .5 : e), s.css(t), r.css({ width: t.width - 2 * b.padding, height: t.height - C * e - 2 * b.padding }) }, W = function () { return [e(window).width() - 2 * b.margin, e(window).height() - 2 * b.margin, e(document).scrollLeft() + b.margin, e(document).scrollTop() + b.margin] }, L = function () { var e, t = W(), i = {}, n = b.autoScale, s = 2 * b.padding; return b.width.toString().indexOf("%") > -1 ? i.width = parseInt(t[0] * parseFloat(b.width) / 100, 10) : i.width = b.width + s, b.height.toString().indexOf("%") > -1 ? i.height = parseInt(t[1] * parseFloat(b.height) / 100, 10) : i.height = b.height + s, n && (i.width > t[0] || i.height > t[1]) && ("image" == g.type || "swf" == g.type ? (e = b.width / b.height, i.width > t[0] && (i.width = t[0], i.height = parseInt((i.width - s) / e + s, 10)), i.height > t[1] && (i.height = t[1], i.width = parseInt((i.height - s) * e + s, 10))) : (i.width = Math.min(i.width, t[0]), i.height = Math.min(i.height, t[1]))), i.top = parseInt(Math.max(t[3] - 20, t[3] + .5 * (t[1] - i.height - 40)), 10), i.left = parseInt(Math.max(t[2] - 20, t[2] + .5 * (t[0] - i.width - 40)), 10), i }, z = function () { var t, i, n = !!g.orig && e(g.orig), s = {}; return n && n.length ? s = { width: (t = function (e) { var t = e.offset(); return t.top += parseInt(e.css("paddingTop"), 10) || 0, t.left += parseInt(e.css("paddingLeft"), 10) || 0, t.top += parseInt(e.css("border-top-width"), 10) || 0, t.left += parseInt(e.css("border-left-width"), 10) || 0, t.width = e.width(), t.height = e.height(), t }(n)).width + 2 * b.padding, height: t.height + 2 * b.padding, top: t.top - b.padding - 20, left: t.left - b.padding - 20 } : (i = W(), s = { width: 2 * b.padding, height: 2 * b.padding, top: parseInt(i[3] + .5 * i[1], 10), left: parseInt(i[2] + .5 * i[0], 10) }), s }, F = function () { i.is(":visible") ? (e("div", i).css("top", -40 * T + "px"), T = (T + 1) % 12) : clearInterval(d) }; e.fn.fancybox = function (t) { return e(this).length ? (e(this).data("fancybox", e.extend({}, t, e.metadata ? e(this).metadata() : {})).unbind("click.fb").bind("click.fb", function (t) { if (t.preventDefault(), !P) { P = !0, e(this).blur(), m = [], p = 0; var i = e(this).attr("rel") || ""; i && "" != i && "nofollow" !== i ? (m = e('a[rel="' + i + '"], area[rel="' + i + '"]'), p = m.index(this)) : m.push(this), k() } }), this) : this }, e.fancybox = function (t) { var i; if (!P) { if (P = !0, i = void 0 !== arguments[1] ? arguments[1] : {}, m = [], p = parseInt(i.index, 10) || 0, e.isArray(t)) { for (var n = 0, s = t.length; n < s; n++)"object" == typeof t[n] ? e(t[n]).data("fancybox", e.extend({}, i, t[n])) : t[n] = e({}).data("fancybox", e.extend({ content: t[n] }, i)); m = jQuery.merge(m, t) } else "object" == typeof t ? e(t).data("fancybox", e.extend({}, i, t)) : t = e({}).data("fancybox", e.extend({ content: t }, i)), m.push(t); (p > m.length || p < 0) && (p = 0), k() } }, e.fancybox.showActivity = function () { clearInterval(d), i.show(), d = setInterval(F, 66) }, e.fancybox.hideActivity = function () { i.hide() }, e.fancybox.next = function () { return e.fancybox.pos(v + 1) }, e.fancybox.prev = function () { return e.fancybox.pos(v - 1) }, e.fancybox.pos = function (e) { P || (e = parseInt(e), m = y, e > -1 && e < y.length ? (p = e, k()) : b.cyclic && y.length > 1 && (p = e >= y.length ? 0 : y.length - 1, k())) }, e.fancybox.cancel = function () { P || (P = !0, e.event.trigger("fancybox-cancel"), I(), g.onCancel(m, p, g), P = !1) }, e.fancybox.close = function () { if (!P && !s.is(":hidden")) if (P = !0, b && !1 === b.onCleanup(y, v, b)) P = !1; else if (I(), e(a.add(c).add(h)).hide(), e(r.add(n)).unbind(), e(window).unbind("resize.fb scroll.fb"), e(document).unbind("keydown.fb"), "iframe" === b.type && r.find("iframe").attr("src", N && /^https/i.test(window.location.href || "") ? "javascript:void(false)" : "about:blank"), "inside" !== b.titlePosition && l.empty(), s.stop(), "elastic" == b.transitionOut) { u = z(); var t = s.position(); f = { top: t.top, left: t.left, width: s.width(), height: s.height() }, b.opacity && (f.opacity = 1), l.empty().hide(), O.prop = 1, e(O).animate({ prop: 0 }, { duration: b.speedOut, easing: b.easingOut, step: A, complete: i }) } else s.fadeOut("none" == b.transitionOut ? 0 : b.speedOut, i); function i() { n.fadeOut("fast"), l.empty().hide(), s.hide(), e.event.trigger("fancybox-cleanup"), r.empty(), b.onClosed(y, v, b), y = g = [], v = p = 0, b = g = {}, P = !1 } }, e.fancybox.resize = function () { n.is(":visible") && n.css("height", e(document).height()), e.fancybox.center(!0) }, e.fancybox.center = function () { var e, t; P || (t = !0 === arguments[0] ? 1 : 0, e = W(), !t && (s.width() > e[0] || s.height() > e[1]) || s.stop().animate({ top: parseInt(Math.max(e[3] - 20, e[3] + .5 * (e[1] - r.height() - 40) - b.padding)), left: parseInt(Math.max(e[2] - 20, e[2] + .5 * (e[0] - r.width() - 40) - b.padding)) }, "number" == typeof arguments[0] ? arguments[0] : 200)) }, e.fancybox.init = function () { e("#fancybox-wrap").length || (e("body").append(t = e('<div id="fancybox-tmp"></div>'), i = e('<div id="fancybox-loading"><div></div></div>'), n = e('<div id="fancybox-overlay"></div>'), s = e('<div id="fancybox-wrap"></div>')), (o = e('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(s)).append(r = e('<div id="fancybox-content"></div>'), a = e('<a id="fancybox-close"></a>'), l = e('<div id="fancybox-title"></div>'), c = e('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'), h = e('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')), a.click(e.fancybox.close), i.click(e.fancybox.cancel), c.click(function (t) { t.preventDefault(), e.fancybox.prev() }), h.click(function (t) { t.preventDefault(), e.fancybox.next() }), e.fn.mousewheel && s.bind("mousewheel.fb", function (t, i) { P ? t.preventDefault() : 0 != e(t.target).get(0).clientHeight && e(t.target).get(0).scrollHeight !== e(t.target).get(0).clientHeight || (t.preventDefault(), e.fancybox[i > 0 ? "prev" : "next"]()) }), e.support.opacity || s.addClass("fancybox-ie"), N && (i.addClass("fancybox-ie6"), s.addClass("fancybox-ie6"), e('<iframe id="fancybox-hide-sel-frame" src="' + (/^https/i.test(window.location.href || "") ? "javascript:void(false)" : "about:blank") + '" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(o))) }, e.fn.fancybox.defaults = { padding: 10, margin: 40, opacity: !1, modal: !1, cyclic: !1, scrolling: "auto", width: 560, height: 340, autoScale: !0, autoDimensions: !0, centerOnScroll: !1, ajax: {}, swf: { wmode: "transparent" }, hideOnOverlayClick: !0, hideOnContentClick: !1, overlayShow: !0, overlayOpacity: .7, overlayColor: "#777", titleShow: !0, titlePosition: "float", titleFormat: null, titleFromAlt: !0, transitionIn: "fade", transitionOut: "fade", speedIn: 300, speedOut: 300, changeSpeed: 300, changeFade: "fast", easingIn: "swing", easingOut: "swing", showCloseButton: !0, showNavArrows: !0, enableEscapeButton: !0, enableKeyboardNav: !0, onStart: function () { }, onCancel: function () { }, onComplete: function () { }, onCleanup: function () { }, onClosed: function () { }, onError: function () { } }, e(document).ready(function () { e.fancybox.init() }) }(jQuery);
